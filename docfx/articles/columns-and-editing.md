# Columns and Editing

ProDataGrid supports classic text/checkbox/template columns with flexible sizing, auto generation, and strong binding support. Editing is built in and can be combined with validation rules and row operations.

## Basic Setup

Basic layout with common column types and width modes (pixel, auto, star):

```xml
<DataGrid ItemsSource="{Binding People}"
          AutoGenerateColumns="False"
          CanUserResizeColumns="True"
          UseLogicalScrollable="True"
          GridLinesVisibility="Horizontal">
  <DataGrid.Columns>
    <!-- Pixel width -->
    <DataGridTextColumn Header="ID"
                        Binding="{Binding Id}"
                        Width="60" />

    <!-- Auto sizes to content -->
    <DataGridTextColumn Header="Name"
                        Binding="{Binding Name}"
                        Width="Auto" />

    <!-- Fixed pixel width checkbox column -->
    <DataGridCheckBoxColumn Header="Active"
                            Binding="{Binding IsActive}"
                            Width="80" />

    <!-- Star sizing shares remaining space -->
    <DataGridTextColumn Header="Department"
                        Binding="{Binding Department}"
                        Width="*" />

    <!-- Template column with custom content and weighted star width -->
    <DataGridTemplateColumn Header="Notes"
                            Width="2*">
      <DataGridTemplateColumn.CellTemplate>
        <DataTemplate>
          <TextBlock Text="{Binding Notes}"
                     TextWrapping="Wrap" />
        </DataTemplate>
      </DataGridTemplateColumn.CellTemplate>
    </DataGridTemplateColumn>
  </DataGrid.Columns>
</DataGrid>
```

Widths accept pixel values (`"80"`), `Auto` (content-based), `*` or weighted stars (e.g., `2*`) that share remaining space.

## Column Types and Sizing

- Built-in columns include `DataGridTextColumn`, `DataGridCheckBoxColumn`, `DataGridComboBoxColumn`, `DataGridHyperlinkColumn`, `DataGridDatePickerColumn`, `DataGridTimePickerColumn`, `DataGridNumericColumn`, `DataGridSliderColumn`, `DataGridToggleSwitchColumn`, `DataGridToggleButtonColumn`, `DataGridProgressBarColumn`, `DataGridAutoCompleteColumn`, `DataGridMaskedTextColumn`, `DataGridImageColumn`, `DataGridButtonColumn`, and `DataGridTemplateColumn`.
- Widths support pixel values, `Auto`, and star sizing (`*` or `2*`).
- Use the dedicated column types instead of templates when possible; they wire editing, formatting, and validation for you.

```xml
<DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*" />
<DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="80" />
<DataGridTemplateColumn Header="Notes" Width="2*">
  <DataGridTemplateColumn.CellTemplate>
    <DataTemplate>
      <TextBlock Text="{Binding Notes}" TextWrapping="Wrap" />
    </DataTemplate>
  </DataGridTemplateColumn.CellTemplate>
</DataGridTemplateColumn>
```

## Frozen Columns

Pin columns on the left or right using `FrozenColumnCount` and `FrozenColumnCountRight`:

```xml
<DataGrid FrozenColumnCount="1"
          FrozenColumnCountRight="1" />
```

## Pixel Widths and Horizontal Scrolling

Fixed pixel widths pair well with `HorizontalScrollBarVisibility="Visible"` for data-heavy layouts:

```xml
<DataGrid HorizontalScrollBarVisibility="Visible">
  <DataGrid.Columns>
    <DataGridTextColumn Header="ID" Width="80" Binding="{Binding Id}" />
    <DataGridTextColumn Header="Description" Width="900" Binding="{Binding Description}" />
  </DataGrid.Columns>
</DataGrid>
```

## Auto-Generated and Programmatic Columns

- Turn on `AutoGenerateColumns` to build columns from the data model.
- Use `AutoGeneratingColumn` to customize headers, widths, and bindings.
- Build or replace the `Columns` collection at runtime for dynamic layouts.

## Bindable Columns and Auto-Generated Placement

Bind `Columns` to an `ObservableCollection<DataGridColumn>` to drive columns from a view-model. Control synchronization and placement when auto-generated columns are also enabled:

- `ColumnsSynchronizationMode`: `OneWayToGrid` (default) or `TwoWay` to mirror grid structural changes back to the source.
- `ColumnsSourceResetBehavior`: `Reload` or `Ignore` reset notifications from the source.
- `AutoGeneratedColumnsPlacement`: `AfterSource`, `BeforeSource`, or `None` when a columns source is set.

```xml
<DataGrid ItemsSource="{Binding Items}"
          Columns="{Binding Columns}"
          ColumnsSynchronizationMode="TwoWay"
          ColumnsSourceResetBehavior="Reload"
          AutoGeneratedColumnsPlacement="AfterSource"
          AutoGenerateColumns="True"
          HeadersVisibility="All" />
```

## DataTable Binding

When binding to `DataTable.DefaultView`, ProDataGrid binds cells via `TypeDescriptor` so you do not need manual indexers.

## Custom Columns

Derive from a built-in column to customize element creation while still reusing the grid's theme resources:

```csharp
using Avalonia.Controls;

public class AccentTextColumn : DataGridTextColumn
{
    protected override Control GenerateElement(DataGridCell cell, object dataItem)
    {
        var textBlock = (TextBlock)base.GenerateElement(cell, dataItem);
        if (CellTextBlockTheme is { } theme)
        {
            textBlock.Theme = theme;
        }

        return textBlock;
    }
}
```

## Editing, Add/Delete, and Validation

- In-place editing supports commit/cancel flows and keyboard navigation.
- `CanUserAddRows`/`CanUserDeleteRows` control row creation and removal.
- Validation integrates with Avalonia validation rules and per-column settings. See [Validation and Errors](validation-and-errors.md).
