<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="clr-namespace:DataGridSample.Models"
             xmlns:viewModels="clr-namespace:DataGridSample.ViewModels"
             x:Class="DataGridSample.EditablePage"
             x:DataType="viewModels:EditableViewModel">
  <UserControl.DataContext>
    <viewModels:EditableViewModel/>
  </UserControl.DataContext>

  <Grid RowDefinitions="Auto,Auto,*">
    <StackPanel Grid.Row="0" Orientation="Vertical" Spacing="4" Margin="0,0,0,8">
      <TextBlock Classes="h2">Editable</TextBlock>
      <TextBlock Text="Editable grid with custom font size and tri-state checkboxes." TextWrapping="Wrap" />
    </StackPanel>

    <StackPanel Grid.Row="1" Spacing="4" Orientation="Horizontal">
      <TextBlock Text="FontSize:" VerticalAlignment="Center"/>
      <Slider x:Name="FontSizeSlider" Minimum="5" Maximum="30" Value="14" Width="100" VerticalAlignment="Center" />
      <CheckBox x:Name="IsThreeStateCheckBox" IsChecked="False" Content="IsThreeState"/>
    </StackPanel>

    <Grid Grid.Row="2" RowDefinitions="*,Auto">
      <DataGrid Margin="12"
                Grid.Row="0"
                ItemsSource="{Binding EditablePeople}"
                IsReadOnly="False">
        <DataGrid.Columns>
          <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}" Width="2*" FontSize="{Binding #FontSizeSlider.Value, Mode=OneWay}" x:DataType="models:Person" />
          <DataGridTextColumn Header="Last" Binding="{Binding LastName}" Width="2*" FontSize="{Binding #FontSizeSlider.Value, Mode=OneWay}" x:DataType="models:Person" />
          <DataGridCheckBoxColumn Header="Is Banned" Binding="{Binding IsBanned}" Width="*" IsThreeState="{Binding #IsThreeStateCheckBox.IsChecked, Mode=OneWay}" x:DataType="models:Person" />
          <DataGridTemplateColumn Header="Age">
            <DataGridTemplateColumn.CellTemplate>
              <DataTemplate x:DataType="models:Person">
                <TextBlock Text="{Binding Age, StringFormat='{}{0} years'}" VerticalAlignment="Center" HorizontalAlignment="Center" />
              </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
            <DataGridTemplateColumn.CellEditingTemplate>
              <DataTemplate x:DataType="models:Person">
                <NumericUpDown Value="{Binding Age}" FormatString="N0" HorizontalAlignment="Stretch" Minimum="0" Maximum="120" TemplateApplied="OnNumericUpDownTemplateApplied" />
              </DataTemplate>
            </DataGridTemplateColumn.CellEditingTemplate>
          </DataGridTemplateColumn>
        </DataGrid.Columns>
      </DataGrid>

      <Button Grid.Row="1"
              Margin="12,0,12,12"
              Content="Add"
              HorizontalAlignment="Right"
              Command="{Binding AddPersonCommand}" />
    </Grid>
  </Grid>
</UserControl>
