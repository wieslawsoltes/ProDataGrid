<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:viewModels="clr-namespace:DataGridSample.ViewModels"
             xmlns:models="clr-namespace:DataGridSample.Models"
             x:Class="DataGridSample.LargeUniformPage"
             x:DataType="viewModels:LargeUniformViewModel">
  <UserControl.DataContext>
    <viewModels:LargeUniformViewModel/>
  </UserControl.DataContext>

  <Grid RowDefinitions="Auto,Auto,*">
    <StackPanel Grid.Row="0" Orientation="Vertical" Spacing="4" Margin="0,0,0,8">
      <TextBlock Classes="h2" Text="Large Uniform Rows"/>
      <TextBlock TextWrapping="Wrap"
                 Text="DataGrid virtualization with a large number of rows of consistent height."/>
    </StackPanel>

    <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="12" Margin="0,0,0,8">
      <StackPanel Orientation="Horizontal" Spacing="4">
        <TextBlock Text="Item Count:" VerticalAlignment="Center"/>
        <NumericUpDown Minimum="1000"
                       Maximum="1000000"
                       Value="{Binding ItemCount, Mode=TwoWay}"
                       Increment="5000"
                       Width="140"/>
      </StackPanel>

      <Button Content="Regenerate" Command="{Binding RegenerateCommand}"/>
      <StackPanel Orientation="Horizontal" Spacing="4">
        <TextBlock Text="Estimator:" VerticalAlignment="Center"/>
        <ComboBox Width="160"
                  ItemsSource="{Binding Estimators}"
                  SelectedItem="{Binding SelectedEstimator, Mode=TwoWay}"/>
      </StackPanel>
      <TextBlock VerticalAlignment="Center" Text="{Binding Summary}"/>
    </StackPanel>

    <DataGrid x:Name="UniformDataGrid"
              Grid.Row="2"
              ItemsSource="{Binding Items}"
              UseLogicalScrollable="True"
              HeadersVisibility="All"
              CanUserResizeColumns="True"
              CanUserReorderColumns="True"
              CanUserSortColumns="True"
              RowBackground="#08000000"
              GridLinesVisibility="Horizontal">
      <DataGrid.Columns>
        <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="80" x:DataType="models:PixelItem" />
        <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="3*" x:DataType="models:PixelItem" />
        <DataGridTextColumn Header="Category" Binding="{Binding Category}" Width="2*" x:DataType="models:PixelItem" />
        <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="5*" x:DataType="models:PixelItem" />
        <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="3*" x:DataType="models:PixelItem" />
      </DataGrid.Columns>

      <DataGrid.Styles>
        <Style Selector="DataGridRow">
          <Setter Property="Header" Value="{Binding $self.Index}"/>
        </Style>
      </DataGrid.Styles>
    </DataGrid>
  </Grid>
</UserControl>
