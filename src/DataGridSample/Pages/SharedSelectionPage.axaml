<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="clr-namespace:DataGridSample.Models"
             xmlns:viewModels="clr-namespace:DataGridSample.ViewModels"
             x:Class="DataGridSample.Pages.SharedSelectionPage"
             x:DataType="viewModels:SharedSelectionViewModel">
  <UserControl.DataContext>
    <viewModels:SharedSelectionViewModel/>
  </UserControl.DataContext>

  <Grid ColumnDefinitions="2*,*" RowDefinitions="Auto,*" Margin="12" ColumnSpacing="12" RowSpacing="8">
    <StackPanel Grid.ColumnSpan="2" Spacing="4">
      <TextBlock Classes="h2">Shared SelectionModel</TextBlock>
      <TextBlock Text="This page shares a single SelectionModel&lt;Country&gt; between a DataGrid and a ListBox. Selecting in one updates the other."
                 TextWrapping="Wrap" />
    </StackPanel>

    <DataGrid Grid.Row="1"
              Grid.Column="0"
              ItemsSource="{Binding ItemsView}"
              Selection="{Binding SelectionModel}"
              SelectionMode="Extended"
              AutoGenerateColumns="True"
              HeadersVisibility="All"
              Height="420" />

    <StackPanel Grid.Row="1" Grid.Column="1" Spacing="8">
      <TextBlock Classes="h3" Text="Shared Selection (ListBox)" />
      <ListBox ItemsSource="{Binding ItemsView}"
               Selection="{Binding SelectionModel}"
               SelectionMode="Multiple"
               Height="200">
        <ListBox.ItemTemplate>
          <DataTemplate x:DataType="models:Country">
            <StackPanel Orientation="Horizontal" Spacing="6">
              <TextBlock Text="{Binding Name}" FontWeight="SemiBold" />
              <TextBlock Text="(" />
              <TextBlock Text="{Binding Region}" />
              <TextBlock Text=")" />
            </StackPanel>
          </DataTemplate>
        </ListBox.ItemTemplate>
      </ListBox>

      <TextBlock Classes="h3" Text="Selected Items" />
      <ItemsControl ItemsSource="{Binding SelectionModel.SelectedItems}">
        <ItemsControl.ItemTemplate>
          <DataTemplate x:DataType="models:Country">
            <TextBlock Text="{Binding Name}" />
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
    </StackPanel>
  </Grid>
</UserControl>
